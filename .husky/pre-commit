#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

## Check not on main branch
branch="$(git rev-parse --abbrev-ref HEAD)"

if [ "$branch" = "main" ]; then
  echo "\nâŒ You can't commit directly to main branch"
  exit 1
fi
echo "\nâœ… You're commiting to branch: $branch \n---"


## Run tests
echo "â° Now running tests...."
yarn test

echo "âœ… Tests passed! \n---"

## All good, commit away
echo "ğŸš€ğŸš€ -- Committing to branch: $branch -- ğŸš€ğŸš€\n\nCommit details: \n"
